(this.webpackJsonpintrapolis=this.webpackJsonpintrapolis||[]).push([[0],{148:function(e,t,n){},169:function(e){e.exports=JSON.parse('{"appName":"Intra Polis","totalDevices":"Devices","totalStates":"States","totalComplience":"Complients","totalGroups":"Groups","device":"Device","runningApps":"Running Apps","installedApps":"Installed Apps"}')},299:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),s=n.n(c),i=(n(148),n(145)),o=n(104),l={en:{translation:n(169)}};i.a.use(o.e).init({resources:l,lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});i.a;var u=n(30),d=(n(195),n(6)),j=r.a.createContext({}),b=function(e){var t=e.children;return Object(d.jsx)(j.Provider,{value:{},children:t})},p=n(172),h=n(173),m=n(186),x=n(183);var O,f,g=(O=function(e,t){return t?Object(d.jsxs)("div",{className:"error-screen",children:[Object(d.jsx)("h2",{children:"An error has occured"}),Object(d.jsx)("h4",{children:t.message})]}):Object(d.jsx)(d.Fragment,{children:e.children})},function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:void 0},e}return Object(h.a)(n,[{key:"componentDidCatch",value:function(e,t){f&&f(e,t)}},{key:"render",value:function(){var e=this.state.error;return O(this.props,e)}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.Component)),v=n(24),I=n(37),y=n(301),w=n(70),N=n(312),S=n(311),_=n(313),C=n(314),F=n(315),k=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:"Notifications"})})},A=n(29),P=n.n(A),M=n(46),D=n(143),T=n(302),E=n(308),R=n(174),U=n.n(R).a.create();U.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),U.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var Y=U,K=Object.freeze({serverEndPoint:"https://1xaglr1sdj.execute-api.ap-south-1.amazonaws.com/api"}).serverEndPoint,L=function(){var e=Object(M.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("".concat(K,"/getdevicedetails"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("".concat(K,"/getgroupdetails"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(M.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("".concat(K,"/getrunningapps"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(M.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("".concat(K,"/getinstalledapps"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=n(67),J=n.n(B),V=n(187),H=n(89),Q=n(304),W=n(101),X=n(309),Z=W.a.Option,$=Q.a("name"),ee="MMM D YYYY, h:mm A",te=[{title:"Name",dataIndex:"App name"},{title:"Installation status",dataIndex:"Installation status"},{title:"Time",dataIndex:"time",render:function(e){return J()(new Date(e)).format(ee)}}],ne=[{title:"Name",dataIndex:"Name"},{title:"Running Status",dataIndex:"Running status"},{title:"Installation status",dataIndex:"Installation status"},{title:"Installed Time",dataIndex:"install_time",render:function(e){return J()(new Date(e)).format(ee)}}],ae=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"group"},{title:"Force list apps",dataIndex:"whitelist",render:function(e,t){var n=e;return Object(d.jsx)(d.Fragment,{children:t.whitelist&&$(n).map((function(e,t){var n=t%2===0?"geekblue":"green";return Object(d.jsx)(X.a,{color:n,children:e.toUpperCase()},Math.random())}))})}},{title:"Banned list apps",dataIndex:"blacklist",render:function(e,t){var n=e;return Object(d.jsx)(d.Fragment,{children:t.blacklist&&$(n).map((function(e){return Object(d.jsx)(X.a,{color:"volcano",children:e.toUpperCase()},Math.random())}))})}}],re=function(e){var t=e.groups;return[{title:"Id",dataIndex:"device_id",sorter:function(e,t){return e.device_id-t.device_id},sortOrder:"ascend"},{title:"Name",dataIndex:"device_name",sorter:function(e,t){return e.device_name.length-t.device_name.length},render:function(e,t){var n="/device/".concat(t.device_id,"?name=").concat(e);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.b,{to:n,children:[" ","".concat(e)]})})}},{title:"Group",dataIndex:"group_name",render:function(e,n){return Object(d.jsx)(W.a,{defaultValue:n.group_id,style:{width:120},children:t.map((function(e){return Object(d.jsx)(Z,{value:e.id,children:e.name},Math.random())}))})}},{title:"OS",dataIndex:"os",filters:[{text:"Ubuntu",value:"Ubuntu"},{text:"MacOS",value:"macOS"}],filterMultiple:!0,onFilter:function(e,t){return 0===t.os.indexOf(e)},sorter:function(e,t){return e.os.length-t.os.length}},{title:"IP Address",dataIndex:"ipaddress"},{title:"Ram",dataIndex:"ram"},{title:"Storage",dataIndex:"storage"},{title:"State",dataIndex:"state",render:function(e){return e?Object(d.jsx)(V.a,{}):Object(d.jsx)(H.a,{})}},{title:"Updated Time",dataIndex:"last_heart_beat_time",render:function(e){var t=e.replaceAll('"',"");return J()(new Date(t)).format("MMM D YYYY, h:mm A")}},{title:"Complient",dataIndex:"is_complient",render:function(e){return e?Object(d.jsx)(V.a,{}):Object(d.jsx)(H.a,{})}}]},ce=D.a.TabPane,se=function(){var e=new URLSearchParams(Object(v.h)().search),t=Object(E.a)().t,n=e.get("name"),r=Object(a.useState)([]),c=Object(I.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)([]),l=Object(I.a)(o,2),u=l[0],j=l[1];return Object(a.useEffect)((function(){Object(M.a)(P.a.mark((function e(){var t,a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={device:n,timerange:"120m"},e.next=3,q(t);case 3:return a=e.sent,e.next=6,z(t);case 6:r=e.sent,j(r),i(a);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h1",{children:[" ",t("device")," : ",n]}),Object(d.jsxs)(D.a,{defaultActiveKey:"1",children:[Object(d.jsxs)(ce,{tab:"Running Apps",children:[Object(d.jsx)("h1",{children:t("runningApps")}),Object(d.jsx)(T.a,{dataSource:s,columns:ne,rowKey:function(){return Math.random()}})]},"1"),Object(d.jsxs)(ce,{tab:"Installed Apps",children:[Object(d.jsx)("h1",{children:t("installedApps")}),Object(d.jsx)(T.a,{dataSource:u,columns:te,rowKey:function(){return Math.random()}})]},"2")]})]})},ie=function(e){var t=e.path,n=e.exact,a=e.component;return localStorage.getItem("user")?Object(d.jsx)(v.b,{path:t,exact:n,component:a}):Object(d.jsx)(v.a,{to:"/login"})},oe=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:"Manged Apps"})})},le=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:"Licence Policy"})})},ue=function(){var e=Object(a.useState)([]),t=Object(I.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){Object(M.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Groups"}),Object(d.jsx)(T.a,{dataSource:n,columns:ae,rowKey:function(e){return e.id}})]})},de=n(303),je=n(310),be=n(307),pe=n(91),he=n(49),me=n(305),xe=n(54),Oe=n(306),fe=n(127),ge=W.a.Option,ve=Oe.a((function(e){return e.group_name})),Ie=function(){var e=Object(E.a)().t,t=Object(a.useState)([]),n=Object(I.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),i=Object(I.a)(s,2),o=i[0],l=i[1],u=de.a.useForm(),j=Object(I.a)(u,1)[0],b=Object(a.useState)({}),p=Object(I.a)(b,2)[1],h=Object(a.useState)({deviceCount:0,statesCount:0,complienceCount:0,groupCount:0}),m=Object(I.a)(h,2),x=m[0],O=m[1];Object(a.useEffect)((function(){Object(M.a)(P.a.mark((function e(){var t,n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,n=t.map((function(e){return{id:e.group_id,name:e.group_name}})),a=function(e,t){return e.find((function(e){return e.id===t.id}))||e.push(t),e},n=n.reduce(a,[]),l(n),c(t.map((function(e){var t=JSON.parse(e.device_data),n=e;n.ram=t.ram,n.storage=t.storage;var a=new Date(e.last_heart_beat_time.replaceAll('"',""));return n.state=Math.round(J.a.duration(J()(e.last_heart_beat_time.replaceAll('"',"")).diff(a)).asMinutes())<5,n}))),O({deviceCount:t.length,statesCount:t.filter((function(e){return e.state})).length,complienceCount:t.filter((function(e){return e.is_complient})).length,groupCount:Object.keys(ve(t)).length});case 9:case"end":return e.stop()}}),e)})))(),p({})}),[]);var f=x.deviceCount,g=x.statesCount,v=x.complienceCount,y=x.groupCount;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h3",{children:[" ",e("device")," "]}),Object(d.jsx)("div",{style:{marginBottom:"1em"},children:Object(d.jsxs)(je.b,{direction:"horizontal",size:"large",children:[Object(d.jsx)(be.a,{className:"count-card",children:Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("h1",{className:"count-number",children:f}),Object(d.jsxs)("h2",{children:[e("totalDevices")," "]})]})}),Object(d.jsx)(be.a,{className:"count-card",children:Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("h1",{className:"count-number",children:g}),Object(d.jsxs)("h2",{children:[e("totalStates")," "]})]})}),Object(d.jsx)(be.a,{className:"count-card",children:Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("h1",{className:"count-number",children:v}),Object(d.jsxs)("h2",{children:[e("totalComplience")," "]})]})}),Object(d.jsx)(be.a,{className:"count-card",children:Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("h1",{className:"count-number",children:y}),Object(d.jsxs)("h2",{children:[e("totalGroups")," "]})]})})]})}),Object(d.jsx)("div",{style:{marginTop:"8px"},children:Object(d.jsx)(de.a,{form:j,name:"horizontal_login",onFinish:function(e){console.log("Finish:",e)},children:Object(d.jsxs)(pe.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:[Object(d.jsx)(he.a,{className:"gutter-row",span:10,children:Object(d.jsx)(de.a.Item,{name:"name",rules:[{required:!0,message:"Please enter asset name!"}],children:Object(d.jsx)(me.a,{prefix:Object(d.jsx)(fe.a,{className:"site-form-item-icon"}),placeholder:"Asset Name"})})}),Object(d.jsx)(he.a,{className:"gutter-row",span:8,children:Object(d.jsx)(de.a.Item,{name:"group",hasFeedback:!0,rules:[{required:!0,message:"Please select your group!"}],children:Object(d.jsx)(W.a,{placeholder:"Please select a group",suffixIcon:Object(d.jsx)(S.a,{className:"ant-select-suffix"}),children:o&&o.map((function(e){return Object(d.jsx)(ge,{value:e.id,children:e.name},e.id)}))})})}),Object(d.jsx)(he.a,{className:"gutter-row",span:6,children:Object(d.jsx)(de.a.Item,{shouldUpdate:!0,children:function(){return Object(d.jsx)(xe.a,{type:"primary",htmlType:"submit",disabled:!j.isFieldsTouched(!0)||!!j.getFieldsError().filter((function(e){return e.errors.length})).length,children:"Filter"})}})})]})})}),o.length?Object(d.jsx)(T.a,{dataSource:r,columns:re({groups:o}),rowKey:function(e){return e.device_id}}):Object(d.jsx)("h1",{children:"Loading"})]})},ye=D.a.TabPane,we=function(){return Object(d.jsxs)(D.a,{defaultActiveKey:"1",children:[Object(d.jsx)(ye,{tab:"Devices",children:Object(d.jsx)(Ie,{})},"1"),Object(d.jsx)(ye,{tab:"Groups",children:Object(d.jsx)(ue,{})},"2")]})},Ne=function(){return Object(d.jsxs)(v.d,{children:[Object(d.jsx)(ie,{exact:!0,path:"/",component:we}),Object(d.jsx)(ie,{exact:!0,path:"/device/:id",component:se}),Object(d.jsx)(ie,{exact:!0,path:"/assets",component:we}),Object(d.jsx)(ie,{exact:!0,path:"/managed_apps",component:oe}),Object(d.jsx)(ie,{exact:!0,path:"/licence_policy",component:le}),Object(d.jsx)(ie,{exact:!0,path:"/notifications",component:k})]})},Se=y.a.Header,_e=y.a.Sider,Ce=y.a.Content,Fe=function(){var e=Object(a.useState)(!1),t=Object(I.a)(e,2),n=t[0],c=t[1],s=Object(v.g)();return Object(d.jsxs)(y.a,{children:[Object(d.jsxs)(_e,{trigger:null,collapsible:!0,collapsed:n,children:[Object(d.jsx)("div",{className:"logo",onClick:function(){return s.push("/")},"aria-hidden":"true",children:Object(d.jsx)("img",{src:"./logo_19.png",alt:"Intrapolis",className:"".concat(n?"hidden":"visible")})}),Object(d.jsxs)(w.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(d.jsx)(w.a.Item,{icon:Object(d.jsx)(N.a,{}),children:Object(d.jsx)(u.b,{to:"/",children:"DashBoard"})},"1"),Object(d.jsx)(w.a.Item,{icon:Object(d.jsx)(S.a,{}),children:Object(d.jsx)(u.b,{to:"/assets",children:"Assets"})},"2"),Object(d.jsx)(w.a.Item,{icon:Object(d.jsx)(N.a,{}),children:Object(d.jsx)(u.b,{to:"/managed_apps",children:"Managed Apps"})},"3"),Object(d.jsx)(w.a.Item,{icon:Object(d.jsx)(N.a,{}),children:Object(d.jsx)(u.b,{to:"/licence_policy",children:"Licence Policy"})},"4"),Object(d.jsx)(w.a.Item,{icon:Object(d.jsx)(_.a,{}),children:Object(d.jsx)(u.b,{to:"/notifications",children:"Notifications"})},"5")]})]}),Object(d.jsxs)(y.a,{className:"site-layout",children:[Object(d.jsx)(Se,{className:"site-layout-background",style:{padding:0},children:r.a.createElement(n?C.a:F.a,{className:"trigger",onClick:function(){c(!n)}})}),Object(d.jsx)(Ce,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(d.jsx)(Ne,{})})]})]})},ke=n(71),Ae=n(102),Pe={labelCol:{span:8},wrapperCol:{span:16}},Me={wrapperCol:{offset:8,span:16}},De=function(){var e=Object(v.g)().push;return Object(d.jsx)("div",{style:{marginTop:150,marginLeft:150,marginRight:250,padding:50,border:"3px solid lightgrey",backgroundColor:"lightgrey"},children:Object(d.jsxs)(de.a,Object(ke.a)(Object(ke.a)({},Pe),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),localStorage.setItem("user","user"),e("/")},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(d.jsx)(de.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(d.jsx)(me.a,{style:{width:150}})}),Object(d.jsx)(de.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(d.jsx)(me.a.Password,{style:{width:150}})}),Object(d.jsx)(de.a.Item,Object(ke.a)(Object(ke.a)({},Me),{},{name:"remember",valuePropName:"checked",children:Object(d.jsx)(Ae.a,{children:"Remember me"})})),Object(d.jsx)(de.a.Item,Object(ke.a)(Object(ke.a)({},Me),{},{children:Object(d.jsx)(xe.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})};function Te(){return Object(d.jsxs)(v.d,{children:[Object(d.jsx)(v.b,{exact:!0,path:"/login",component:De}),Object(d.jsx)(v.b,{component:Fe})]})}var Ee=function(){return Object(d.jsx)(g,{children:Object(d.jsx)(b,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(Te,{})})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,316)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(Ee,{})})}),document.getElementById("root")),Re()}},[[299,1,2]]]);
//# sourceMappingURL=main.902a3431.chunk.js.map